<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>README</title>
<!-- 2014-11-02 Sun 00:18 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Daniel Szmulewicz" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">README</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. system</a>
<ul>
<li><a href="#sec-1-1">1.1. What is it?</a></li>
<li><a href="#sec-1-2">1.2. Motivation</a></li>
<li><a href="#sec-1-3">1.3. Is it good?</a></li>
<li><a href="#sec-1-4">1.4. Installation</a></li>
<li><a href="#sec-1-5">1.5. Example project</a></li>
<li><a href="#sec-1-6">1.6. Usage</a>
<ul>
<li><a href="#sec-1-6-1">1.6.1. defsystem</a></li>
</ul>
</li>
<li><a href="#sec-1-7">1.7. The Reloaded pattern</a></li>
<li><a href="#sec-1-8">1.8. Contributing</a></li>
<li><a href="#sec-1-9">1.9. Credits</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> system</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> What is it?</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<b>system</b> owes to <a href="https://github.com/stuartsierra/component">component</a> both in spirit and in name. The component library helps implementing the reloaded pattern as championed by Stuart Sierra. <b>system</b> is built on top of it, offering a set of readymade components. This idea is to expand the set over time with contributions from the community. It currently includes: 
</p>

<ul class="org-ul">
<li><a href="https://github.com/mmcgrana/ring">Jetty</a> (HTTP server)
</li>
<li><a href="http://http-kit.org/">HTTP kit</a> (Async HTTP server)
</li>
<li><a href="http://www.datomic.com/">Datomic</a> (Immutable database)
</li>
<li><a href="http://www.h2database.com/">H2</a> (H2 relational database)
</li>
<li><a href="http://clojuremongodb.info/">Monger</a> (MongoDB client)
</li>
<li><a href="https://github.com/ptaoussanis/sente">Sente</a> (Websockets/Ajax communications library)
</li>
<li><a href="https://github.com/clojure/tools.nrepl">nREPL</a> (Clojure network REPL )
</li>
<li><a href="http://clojurerabbitmq.info/">Langohr</a> (RabbitMQ client)
</li>
<li><a href="https://github.com/danielsz/etsy-clojure-api">Etsy</a> (Etsy client)
</li>
<li><a href="http://docs.caudate.me/hara/#haraiowatch">hara.io.watch</a> (File watcher)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Motivation</h3>
<div class="outline-text-3" id="text-1-2">
<p>
A good REPL experience is a prerogative of Lisp languages. <a href="https://github.com/stuartsierra/reloaded">Reloaded</a> components enable this goodness in Clojureland. Since they require an amount of setup, the first steps when starting a new project are generally devoted to infrastructure. My first attempt to tackle the boilerplate was a Leiningen <a href="https://github.com/danielsz/back-end-template">template</a>. The problem is that Leiningen templates are hard to maintain and difficult to retrofit on existing projects. I was finding myself repeatedly updating the template for future use. Then it dawned on me that a library would better fit the bill. And so <b>system</b> came to light. It’s now the first dependency I add to any project, allowing me to focus from the get-go on the substance of my application.
</p>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Is it good?</h3>
<div class="outline-text-3" id="text-1-3">
<p>
<a href="https://news.ycombinator.com/item?id=3067434">Yes.</a>
</p>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Installation</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Add the following to the Leiningen dependencies in project.clj. 
</p>
<ul class="org-ul">
<li>Stable release: 
</li>
</ul>
<pre class="example">
[org.danielsz/system "0.1.2"]
</pre>
<ul class="org-ul">
<li>Moving target:
</li>
</ul>
<pre class="example">
[org.danielsz/system "0.1.3-SNAPSHOT"]
</pre>

<div class="figure">
<p><img src="http://clojars.org/org.danielsz/system/latest-version.svg" alt="latest-version.svg" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Example project</h3>
<div class="outline-text-3" id="text-1-5">
<p>
An example project is available under the example folder. It is a self-contained project that will help you get started.
</p>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> Usage</h3>
<div class="outline-text-3" id="text-1-6">
<p>
First, assemble your system(s) in a namespace of your choosing. Here we define two systems, development and production. 
</p>
<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">ns</span> <span style="color: #b58900;">my-app.systems</span>
  <span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">:require</span> 
   <span style="color: #268bd2;">[</span><span style="color: #b58900;">com.stuartsierra.component</span> <span style="color: #268bd2; font-weight: bold;">:as</span> component<span style="color: #268bd2;">]</span>
   <span style="color: #268bd2;">(</span><span style="color: #b58900;">system.components</span> 
    <span style="color: #6c71c4;">[</span>jetty <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #859900;">[</span>new-web-server<span style="color: #859900;">]</span><span style="color: #6c71c4;">]</span>
    <span style="color: #6c71c4;">[</span>repl-server <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #859900;">[</span>new-repl-server<span style="color: #859900;">]</span><span style="color: #6c71c4;">]</span>
    <span style="color: #6c71c4;">[</span>datomic <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #859900;">[</span>new-datomic-db<span style="color: #859900;">]</span><span style="color: #6c71c4;">]</span>
    <span style="color: #6c71c4;">[</span>mongo <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #859900;">[</span>new-mongo-db<span style="color: #859900;">]</span><span style="color: #6c71c4;">]</span><span style="color: #268bd2;">)</span>
   <span style="color: #268bd2;">[</span><span style="color: #b58900;">my-app.webapp</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>handler<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span>
   <span style="color: #268bd2;">[</span><span style="color: #b58900;">environ.core</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>env<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defn</span> <span style="color: #268bd2;">dev-system</span> <span style="color: #b58900;">[]</span>
  <span style="color: #b58900;">(</span><span style="color: #b58900;">component</span>/system-map
   <span style="color: #268bd2; font-weight: bold;">:datomic-db</span> <span style="color: #268bd2;">(</span>new-datomic-db <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:db-url</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
   <span style="color: #268bd2; font-weight: bold;">:mongo-db</span> <span style="color: #268bd2;">(</span>new-mongo-db<span style="color: #268bd2;">)</span>
   <span style="color: #268bd2; font-weight: bold;">:web</span> <span style="color: #268bd2;">(</span>new-web-server <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:http-port</span><span style="color: #6c71c4;">)</span> handler<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defn</span> <span style="color: #268bd2;">prod-system</span> <span style="color: #b58900;">[]</span>
  <span style="color: #2aa198;">"Assembles and returns components for an application in production"</span>
  <span style="color: #b58900;">[]</span>
    <span style="color: #b58900;">(</span><span style="color: #b58900;">component</span>/system-map
     <span style="color: #268bd2; font-weight: bold;">:datomic-db</span> <span style="color: #268bd2;">(</span>new-datomic-db <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:db-url</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
     <span style="color: #268bd2; font-weight: bold;">:mongo-db</span> <span style="color: #268bd2;">(</span>new-mongo-db <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:mongo-url</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
     <span style="color: #268bd2; font-weight: bold;">:web</span> <span style="color: #268bd2;">(</span>new-web-server <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:http-port</span><span style="color: #6c71c4;">)</span> handler<span style="color: #268bd2;">)</span>
     <span style="color: #268bd2; font-weight: bold;">:repl-server</span> <span style="color: #268bd2;">(</span>new-repl-server <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:repl-port</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Then, in user.clj:
</p>

<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">ns</span> <span style="color: #b58900;">user</span>
  <span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">:require</span> <span style="color: #268bd2;">[</span><span style="color: #b58900;">reloaded.repl</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>system init start stop go reset<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span>
            <span style="color: #268bd2;">[</span><span style="color: #b58900;">my-app.systems</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>dev-system<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #b58900;">reloaded.repl</span>/set-init! dev-system<span style="color: #2aa198;">)</span>
</pre>
</div>
<p>
You can then manipulate the system in the REPL: <code>(go)</code>, <code>(reset)</code> or <code>(stop)</code>. The system map is accessible at any time, it resides in a var named, as you can guess, <code>#'system</code>. 
</p>

<p>
In production, in core.clj:
</p>

<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">ns</span> <span style="color: #b58900;">my-app.core</span>
  <span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">:gen-class</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">:require</span> <span style="color: #268bd2;">[</span><span style="color: #b58900;">my-app.systems</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>prod-system<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defn</span> <span style="color: #268bd2;">-main</span> 
  <span style="color: #b58900;">[]</span>
  <span style="color: #2aa198;">"Start the application"</span>
  <span style="color: #b58900;">(</span>alter-var-root #'prod-system <span style="color: #b58900;">component</span>/start<span style="color: #b58900;">)</span>
</pre>
</div>

<p>
Or, if you want to keep a handler on your system in production:
</p>

<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">ns</span> <span style="color: #b58900;">my-app.core</span>
  <span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">:gen-class</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">:require</span> <span style="color: #268bd2;">[</span><span style="color: #b58900;">reloaded.repl</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>system init start stop go reset<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span>
            <span style="color: #268bd2;">[</span><span style="color: #b58900;">my-app.systems</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>prod-system<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defn</span> <span style="color: #268bd2;">-main</span> 
  <span style="color: #b58900;">[]</span>
  <span style="color: #2aa198;">"Start the application"</span>
  <span style="color: #b58900;">(</span><span style="color: #b58900;">reloaded.repl</span>/set-init! prod-system<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>go<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>

<div id="outline-container-sec-1-6-1" class="outline-4">
<h4 id="sec-1-6-1"><span class="section-number-4">1.6.1</span> defsystem</h4>
<div class="outline-text-4" id="text-1-6-1">
<p>
A convenience macro, <code>defsystem</code>, allows you to declare systems succinctly:
</p>

<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">ns</span> <span style="color: #b58900;">my-app.systems</span>
  <span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">:require</span> 
   <span style="color: #268bd2;">[</span><span style="color: #b58900;">system.core</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>defsystem<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span>
   <span style="color: #268bd2;">(</span><span style="color: #b58900;">system.components</span> 
    <span style="color: #6c71c4;">[</span>jetty <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #859900;">[</span>new-web-server<span style="color: #859900;">]</span><span style="color: #6c71c4;">]</span>
    <span style="color: #6c71c4;">[</span>repl-server <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #859900;">[</span>new-repl-server<span style="color: #859900;">]</span><span style="color: #6c71c4;">]</span>
    <span style="color: #6c71c4;">[</span>datomic <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #859900;">[</span>new-datomic-db<span style="color: #859900;">]</span><span style="color: #6c71c4;">]</span>
    <span style="color: #6c71c4;">[</span>mongo <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #859900;">[</span>new-mongo-db<span style="color: #859900;">]</span><span style="color: #6c71c4;">]</span><span style="color: #268bd2;">)</span>
   <span style="color: #268bd2;">[</span><span style="color: #b58900;">my-app.webapp</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>handler<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span>
   <span style="color: #268bd2;">[</span><span style="color: #b58900;">environ.core</span> <span style="color: #268bd2; font-weight: bold;">:refer</span> <span style="color: #6c71c4;">[</span>env<span style="color: #6c71c4;">]</span><span style="color: #268bd2;">]</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defsystem</span> <span style="color: #268bd2;">dev-system</span> 
  <span style="color: #b58900;">[</span><span style="color: #268bd2; font-weight: bold;">:datomic-db</span> <span style="color: #268bd2;">(</span>new-datomic-db <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:db-url</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
   <span style="color: #268bd2; font-weight: bold;">:mongo-db</span> <span style="color: #268bd2;">(</span>new-mongo-db<span style="color: #268bd2;">)</span>
   <span style="color: #268bd2; font-weight: bold;">:web</span> <span style="color: #268bd2;">(</span>new-web-server <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:http-port</span><span style="color: #6c71c4;">)</span> handler<span style="color: #268bd2;">)</span><span style="color: #b58900;">]</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defsystem</span> <span style="color: #268bd2;">prod-system</span> 
  <span style="color: #b58900;">[</span><span style="color: #268bd2; font-weight: bold;">:datomic-db</span> <span style="color: #268bd2;">(</span>new-datomic-db <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:db-url</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
   <span style="color: #268bd2; font-weight: bold;">:mongo-db</span> <span style="color: #268bd2;">(</span>new-mongo-db <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:mongo-url</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
   <span style="color: #268bd2; font-weight: bold;">:web</span> <span style="color: #268bd2;">(</span>new-web-server <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:http-port</span><span style="color: #6c71c4;">)</span> handler<span style="color: #268bd2;">)</span>
   <span style="color: #268bd2; font-weight: bold;">:repl-server</span> <span style="color: #268bd2;">(</span>new-repl-server <span style="color: #6c71c4;">(</span>env <span style="color: #268bd2; font-weight: bold;">:repl-port</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">]</span><span style="color: #2aa198;">)</span>
</pre>
</div>
<p>
<b>Note:</b> Component allows you to define dependency relationships within systems. Please don’t use said macro for those cases. Be sure to consult component’s API to see the range of options available to you.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> The Reloaded pattern</h3>
<div class="outline-text-3" id="text-1-7">
<p>
Here are a couple of links that are sure to shed more light on the motivations of the reloaded workflow.
</p>

<p>
The canonical reference: 
<a href="http://thinkrelevance.com/blog/2013/06/04/clojure-workflow-reloaded">My Clojure Workflow, Reloaded</a>
</p>

<p>
And more references touching on the topic.  
</p>
<ul class="org-ul">
<li><a href="http://www.infoq.com/presentations/Clojure-Large-scale-patterns-techniques">Clojure in the Large</a>
</li>
<li><a href="http://martintrojer.github.io/clojure/2013/09/07/retrofitting-the-reloaded-pattern-into-clojure-projects/">Retrofitting the Reloaded pattern into Clojure projects</a>
</li>
<li><a href="http://software-ninja-ninja.blogspot.co.il/2014/04/5-faces-of-dependency-injection-in.html">5 faces of dependency injection in Clojure</a>
</li>
<li><a href="https://github.com/weavejester/reloaded.repl">REPL functions to support the reloaded workflow</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> Contributing</h3>
<div class="outline-text-3" id="text-1-8">
<p>
Please fork and issue a pull request to add more components. Please don't forget to include tests. You can refer to the existing ones to get started.
</p>
</div>
</div>
<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9"><span class="section-number-3">1.9</span> Credits</h3>
<div class="outline-text-3" id="text-1-9">
<p>
I wish to thank <a href="https://github.com/stuartsierra">Stuart Sierra</a> for the pioneering and guidance. Special thanks to <a href="https://github.com/weavejester">James Reeves</a> for the <a href="https://github.com/weavejester/reloaded.repl">reloaded.rep</a>l library and general inspiration. Thanks to <a href="https://github.com/ptaoussanis">Peter Taoussanis</a>, the friendly OSS contributor, who helped to ‘componentize’ <a href="https://github.com/ptaoussanis/sente">sente</a>, an amazing library on its own right.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Daniel Szmulewicz</p>
<p class="date">Created: 2014-11-02 Sun 00:18</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.4.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
